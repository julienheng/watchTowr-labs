import { useFetchData } from '@/hooks/useFetchData';
import { HuntType } from '@/types/HuntType';
import {
  Table,
  TableHeader,
  TableColumn,
  TableBody,
  TableRow,
  TableCell,
} from '@nextui-org/react';

interface VulnerabilityProps {}

const columns = ['ID', 'Summary', 'Release Date', 'Products'];

const Vulnerability: React.FC<VulnerabilityProps> = () => {
  const { data } = useFetchData() as { data: HuntType[] };
  let vulnerability;
  if (data && data.length > 0) {
    vulnerability = data[0].vulnerability;
  }

  return (
    <>
      {vulnerability && (
        <Table
          aria-label="Static Table"
          className="mx-auto flex h-screen max-w-5xl items-center justify-center"
        >
          <TableHeader className="">
            {columns.map((column) => (
              <TableColumn key={column}>{column}</TableColumn>
            ))}
          </TableHeader>
          <TableBody className="">
            <TableRow>
              <TableCell>{vulnerability.name}</TableCell>
              <TableCell className="max-w-xs">
                {vulnerability.description}
              </TableCell>
              <TableCell>{vulnerability.releasedDate}</TableCell>
              <TableCell className="">
                {vulnerability.affectedTechnologies}
              </TableCell>
            </TableRow>
          </TableBody>
        </Table>
      )}
    </>
  );
};

export default Vulnerability;
